var characters = {
	"superheroes" : {
		"headTitle": "Superheroes",
		"footTitle": "Heroes fight for justice!",
		"identity": [
			{"name": "Superman", "brief": "Superman is the Man of Steel!"},
			{"name": "Batman", "brief": "Batman is the Dark Knight!"},
			{"name": "Green Arrow", "brief": "Billionaire Oliver Queen"}
		]
	},
	"supervillians":{
		"headTitle": "Supervillians",
		"footTitle": "Villians are crime lords.",
		"identity": [
			{"name": "Lex Luther", "brief": "He is Superman's enemy."},
			{"name": "The Joker", "brief": "Everything is a joke to this guy."},
			{"name": "Deathstroke", "brief": "This masked mercenary put fear in all he encounters."}
		]
	}
};

var getInfo = function(){
	var detailWindow = Ti.UI.createWindow({
		backgroundColor: "#595BC2",
		title: this.title,
		modal: true
	});
	var detailText = Ti.UI.createLabel({
		text: this.info,
		color: "#fff",
		font: {fontSize: 20, fontFamily: "Times New Roman"}
		
	});
	detailWindow.add(detailText);
	navWin.openWindow(detailWindow, {animation: true});
	
};

var mySections = [];
for(n in characters){
	var tableSection = Ti.UI.createTableViewSection({
		headerTitle: characters[n].headTitle,
		footerTitle: characters[n].footTitle
	});
	for(var i = 0; i<characters[n].identity.length; i++){
		var theRow = Ti.UI.createTableViewRow({
			title: characters[n].identity[i].name,
			info: characters[n].identity[i].brief,
			hasChild: true
		});
		tableSection.add(theRow);
		theRow.addEventListener("click", getInfo);
	}
	mySections.push(tableSection);	
};

table.setData(mySections);